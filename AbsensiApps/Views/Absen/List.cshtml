@model List<AbsensiApps.Models.Absen>

@{
    var tanggalList = ViewBag.TanggalList as List<DateTime> ?? new List<DateTime>();
    var matrixList = ViewBag.Matrix ?? new List<dynamic>();
    var rekapList = ViewBag.Rekap ?? new List<dynamic>();
    var bulanList = ViewBag.BulanList as List<string> ?? new List<string>();
}



<style>
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
        
    }

    table, th, td {
        border: 1px solid black;
    }

    th, td {
        padding: 8px 12px;
        text-align: center;
    }

    thead {
        background-color: #f2f2f2;
    }
</style>

<h2>Soal no 2(Menampilkan Data)</h2>
<table>
    <thead>
        <tr>
            <th>NIK</th>
            <th>Nama</th>
            <th>Tanggal Absen</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var absen in Model)
        {
            <tr>
                <td>@absen.NIK</td>
                <td>@absen.Employee?.Nama</td>
                <td>@absen.TanggalAbsen.ToString("dd/MM/yyyy")</td>
            </tr>
        }
    </tbody>
</table>

<h2>Soal no 3(Menampilkan Data)</h2>
<table>
    <thead>
        <tr>
            <th>NIK</th>
            <th>Nama</th>
            @foreach (var tgl in tanggalList)
            {
                <th>@tgl.ToString("dd-MM-yyyy")</th>
            }
            <th>Total</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var row in matrixList)
        {
            <tr>
                <td>@row.NIK</td>
                <td>@row.Nama</td>
                @foreach (var mark in row.TanggalFlags)
                {
                    <td style="text-align:center">@mark</td>
                }
                <td style="text-align:center">@row.Total</td>
            </tr>
        }
    </tbody>
</table>

<h2>Soal no 4(Menampilkan Data)</h2>
<table>
    <thead>
        <tr>
            <th>NIK</th>
            <th>Nama</th>
            @foreach (var bln in bulanList)
            {
                <th>@bln</th>
            }
            <th>Total</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var row in rekapList)
        {
            <tr>
                <td>@row.NIK</td>
                <td>@row.Nama</td>
                @foreach (var bln in bulanList)
                {
                    <td style="text-align:center">
                        @(row.BulanCount != null && row.BulanCount.ContainsKey(bln) ? row.BulanCount[bln] : 0)
                    </td>
                }
                <td style="text-align:center">@row.Total</td>
            </tr>
        }
    </tbody>
</table>
